package com.feihua.framework.base.modules.user.api;

import com.feihua.framework.base.modules.user.dto.BaseUserAccessLasttimeDto;
import com.feihua.framework.base.modules.user.dto.BaseUserAccessLasttimeParamDto;
import com.feihua.framework.base.modules.user.po.BaseUserAccessLasttimePo;

/**
 * 用户最后访问时间记录
 * 该服务对应的操作是单表操作，请不要关联该表查询，以提高性能
 * 因为该服务的方法有缓存写入操作，请直接使用服务下的方法查询，以提高性能
 * This class was generated by MyBatis Generator.
 * @author yangwei 2019-06-18 09:24:16
 */
public interface ApiBaseUserAccessLasttimePoService extends feihua.jdbc.api.service.ApiBaseService<BaseUserAccessLasttimePo, BaseUserAccessLasttimeDto, String> {


    /**
     * 添加或更新，保证userId,clientId必填的最低要求
     * 双写入操作，写入库后再写入缓存，以提高查询性能
     * @param paramDto
     * @return
     */
    int saveUserAccessLasttime(BaseUserAccessLasttimeParamDto paramDto);


    /**
     * 根据用户和客户端id查询
     * 又加了一层缓存。因为该表频繁更新操作会导致mybatis二级缓存命中率几乎为0
     * @param userId
     * @param clientId
     * @return
     */
    BaseUserAccessLasttimePo selectByUserIdAndClientId(String userId,String clientId);

}